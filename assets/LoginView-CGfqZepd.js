import{_ as d,u as m,c as f,a as e,g as c,h as l,i as a,v as u,o as p}from"./index-D0YXbrtf.js";const i=m(),w={name:"LoginView",data(){return{email:"",password:""}},methods:{async login(){try{const o=await fetch("https://web-i3-back.fly.dev/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})});if(o.status===401)i.error("Incorrect email or password");else if(o.ok){const s=await o.json();localStorage.setItem("token",s.token),i.success("Login successful"),s.user_type==="Admin"?this.$router.push({name:"admin"}):s.user_type==="Teacher"?this.$router.push({name:"teacher"}):this.$router.push({name:"student"})}else throw new Error(o.statusText)}catch(o){console.error(o),i.error("Something went wrong")}},forgotPassword(){i.info("That's sad ðŸ˜­")}}},g={class:"flex flex-col justify-center"},b={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},h={class:"mt-2"},x={class:"flex items-center justify-between"},y={class:"text-sm"},v={class:"mt-2"};function k(o,s,_,T,r,n){return p(),f("div",g,[e("section",null,[s[7]||(s[7]=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[e("img",{class:"mx-auto h-20 w-auto",src:c,alt:"TeachPoint Logo"}),e("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Sign in to your account")],-1)),e("div",b,[e("form",{class:"space-y-6",onSubmit:s[3]||(s[3]=l((...t)=>n.login&&n.login(...t),["prevent"]))},[e("div",null,[s[4]||(s[4]=e("label",{for:"email",class:"block text-sm/6 font-medium"},"Email address",-1)),e("div",h,[a(e("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":s[0]||(s[0]=t=>r.email=t),autocomplete:"email",placeholder:"john.doe@mail.com",required:"",class:"block w-full rounded-md px-3 py-1.5 shadow-sm border border-gray-300 sm:text-sm/6 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700 placeholder-neutral-400"},null,512),[[u,r.email]])])]),e("div",null,[e("div",x,[s[5]||(s[5]=e("label",{for:"password",class:"block text-sm/6 font-medium"},"Password",-1)),e("div",y,[e("button",{type:"button",onClick:s[1]||(s[1]=l((...t)=>n.forgotPassword&&n.forgotPassword(...t),["prevent"])),class:"font-semibold rounded-md focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"}," Forgot password? ")])]),e("div",v,[a(e("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":s[2]||(s[2]=t=>r.password=t),autocomplete:"current-password",placeholder:"********",required:"",class:"block w-full rounded-md px-3 py-1.5 shadow-sm border border-gray-300 sm:text-sm/6 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700 placeholder-neutral-400"},null,512),[[u,r.password]])])]),s[6]||(s[6]=e("div",null,[e("button",{type:"submit",class:"w-full rounded-md px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm bg-efrei-blue-500 hover:bg-efrei-blue-950 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"}," Sign in ")],-1))],32)])])])}const P=d(w,[["render",k]]);export{P as default};
