import{R as k,C as T}from"./CheckBox-BaWtnXml.js";import{_ as h,o as t,c as s,a as n,d as m,v as f,t as u,F as v,h as w,g as l,r as y,i as I,e as B,j as _}from"./index-kY_OSmlO.js";const V={props:{template:{type:Object,required:!0},isEditable:{type:Boolean,default:!1}},components:{RadioButton:k,CheckBox:T},data(){return{localTemplate:JSON.parse(JSON.stringify(this.template))}},watch:{template:{handler(a){this.localTemplate=JSON.parse(JSON.stringify(a))},immediate:!0,deep:!0}},methods:{saveTemplate(){console.log("Template saved:",this.localTemplate)}}},E={class:"template-container"},O={class:"mb-6"},C={key:1,class:"text-gray-700 text-lg"},D={class:"block text-sm font-medium text-gray-700 mb-2"},N=["onUpdate:modelValue"],R={key:1,class:"text-gray-700"},S=["onUpdate:modelValue"],U={key:3,class:"text-gray-700"},q={key:0},J={key:1},j={key:2},F={key:3};function M(a,o,r,x,i,d){const p=y("RadioButton"),g=y("CheckBox");return t(),s("div",E,[n("div",O,[o[2]||(o[2]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Template Name",-1)),r.isEditable?m((t(),s("input",{key:0,type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>i.localTemplate.name=e),class:"block w-full px-4 py-2 border rounded-md shadow-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,512)),[[f,i.localTemplate.name]]):(t(),s("p",C,u(i.localTemplate.name),1))]),(t(!0),s(v,null,w(i.localTemplate.questions,(e,b)=>(t(),s("div",{key:b,class:"mb-6 p-4 border rounded-lg"},[n("label",D,"Question "+u(b+1),1),r.isEditable?m((t(),s("input",{key:0,type:"text","onUpdate:modelValue":c=>e.question_text=c,class:"block w-full px-4 py-2 border rounded-md shadow-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-2"},null,8,N)),[[f,e.question_text]]):(t(),s("p",R,u(e.question_text),1)),o[5]||(o[5]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Response Type",-1)),r.isEditable?m((t(),s("select",{key:2,"onUpdate:modelValue":c=>e.question_typeID=c,class:"block w-full px-4 py-2 border rounded-md shadow-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"},o[3]||(o[3]=[n("option",{value:"1"},"Text Input",-1),n("option",{value:"2"},"Radio Buttons",-1),n("option",{value:"3"},"Checkbox",-1),n("option",{value:"4"},"Star Rating (1-5)",-1)]),8,S)),[[I,e.question_typeID]]):(t(),s("p",U,[o[4]||(o[4]=B(" Type: ")),e.question_typeID===1?(t(),s("span",q,"Text Input")):l("",!0),e.question_typeID===2?(t(),s("span",J,"Radio Buttons")):l("",!0),e.question_typeID===3?(t(),s("span",j,"Checkbox")):l("",!0),e.question_typeID===4?(t(),s("span",F,"Star Rating (1-5)")):l("",!0)])),e.question_typeID===2?(t(),_(p,{key:4,questionId:e.id,radios:e.options,onUpdateOptions:a.updateOptions},null,8,["questionId","radios","onUpdateOptions"])):l("",!0),e.question_typeID===3?(t(),_(g,{key:5,questionId:e.id,checkboxes:e.options,onUpdateOptions:a.updateOptions},null,8,["questionId","checkboxes","onUpdateOptions"])):l("",!0)]))),128)),r.isEditable?(t(),s("button",{key:0,onClick:o[1]||(o[1]=(...e)=>d.saveTemplate&&d.saveTemplate(...e)),class:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md shadow-md hover:bg-blue-600"}," Save Changes ")):l("",!0)])}const L=h(V,[["render",M]]),Q={props:{id:{type:Number,required:!0}},components:{TemplateViewerEditor:L},data(){return{template:null}},async created(){await this.fetchTemplate()},watch:{id(a,o){a!==o&&this.fetchTemplate()}},methods:{async fetchTemplate(){try{const a=await fetch(`https://web-i3-back.fly.dev/admin/templates/${this.id}`);this.template=await a.json()}catch(a){console.error("Error fetching template:",a)}}}};function $(a,o,r,x,i,d){const p=y("TemplateViewerEditor");return t(),_(p,{template:i.template,isEditable:!1},null,8,["template"])}const G=h(Q,[["render",$]]);export{G as default};
