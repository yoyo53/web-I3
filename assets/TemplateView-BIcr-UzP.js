import{R as w,C as g}from"./CheckboxAnswerComponent-CO3kW-66.js";import{_ as k,u as _,c as n,a as t,t as d,F as T,f as v,o as s,i as p,v as C,m as A,k as m,j as u,r as b}from"./index-CpF5pKxO.js";const i=_(),S={name:"TemplateView",props:{id:{type:String,required:!0}},data(){return{template:null}},components:{RadioAnswerComponent:w,CheckboxAnswerComponent:g},methods:{async getTemplate(r){try{const e=await fetch("https://web-i3-back.fly.dev/admin/templates/"+r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(e.statusText);this.template=await e.json()}catch(e){console.error(e),i.error("Something went wrong")}},async deleteTemplate(r){try{const e=await fetch("https://web-i3-back.fly.dev/admin/template/"+r,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(e.statusText);i.success("Template deleted successfully"),this.$router.push({name:"adminTemplatesList"})}catch(e){console.error(e),i.error("Something went wrong")}}},async beforeMount(){this.getTemplate(this.id)}},V={class:"flex justify-center items-center"},B={key:0},E={key:1,class:"w-full max-w-7xl mx-auto"},R={class:"mb-4 text-2xl font-semibold text-center"},j={class:"block mb-2 text-sm"},D=["onUpdate:modelValue"],L=["onUpdate:modelValue"],U={class:"flex justify-center mt-4"};function q(r,e,f,I,a,x){const h=b("RadioAnswerComponent"),y=b("CheckboxAnswerComponent");return s(),n("div",V,[a.template?(s(),n("section",E,[t("h1",R,d(a.template.name),1),(s(!0),n(T,null,v(a.template.questions,(o,c)=>(s(),n("div",{key:c,class:"mb-4 p-4 border-2 border-dashed border-neutral-200 rounded-lg"},[t("label",j,"Question "+d(c+1),1),p(t("input",{type:"text","onUpdate:modelValue":l=>o.question_text=l,disabled:"",class:"block w-full mb-2 px-4 py-2 border border-neutral-300 rounded-md"},null,8,D),[[C,o.question_text]]),e[3]||(e[3]=t("label",{class:"mb-2 block text-sm"},"Response Type",-1)),p(t("select",{"onUpdate:modelValue":l=>o.question_type=l,disabled:"",class:"block w-full px-4 py-2 bg-transparent border border-neutral-300 rounded-md focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700 disabled:bg-neutral-100"},e[2]||(e[2]=[t("option",{value:"text"},"Text Input",-1),t("option",{value:"score"},"Star Rating (1-5)",-1),t("option",{value:"radio"},"Radio Buttons",-1),t("option",{value:"checkbox"},"Checkbox",-1)]),8,L),[[A,o.question_type]]),o.question_type==="radio"?(s(),m(h,{key:0,question:o,editable:!1,answerable:!1,class:"my-4"},null,8,["question"])):u("",!0),o.question_type==="checkbox"?(s(),m(y,{key:1,question:o,editable:!1,answerable:!1,class:"my-4"},null,8,["question"])):u("",!0)]))),128)),t("div",U,[t("button",{onClick:e[0]||(e[0]=o=>x.deleteTemplate(f.id)),class:"block py-2.5 px-6 text-sm rounded-lg bg-red-50 text-red-500 cursor-pointer font-semibold text-center hover:bg-red-100 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-red-700"}," Delete Template ")])])):(s(),n("section",B,e[1]||(e[1]=[t("p",{class:"text-2xl font-semibold"},"Loading template details...",-1)])))])}const z=k(S,[["render",q]]);export{z as default};
