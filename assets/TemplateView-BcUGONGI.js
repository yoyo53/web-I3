import{_ as m,o as l,c as a,a as t,t as h,j as f,F as x,i as y,b as c,r as g}from"./index-B-f-bO2j.js";const b={props:{template:{type:Object,required:!0}}},v={class:"flex min-w-0 gap-x-4"},k={class:"min-w-0 flex-auto"},w={class:"text-sm/6 font-semibold text-gray-900"};function _(s,e,i,u,n,o){return l(),a("div",v,[t("div",k,[t("p",w,h(i.template.survey_templateID)+" "+h(i.template.name),1)])])}const T=m(b,[["render",_]]),C={data(){return{isModalVisible:!1}},methods:{toggleModal(){this.isModalVisible=!this.isModalVisible},confirmAction(){console.log("Action confirmed"),this.toggleModal()}}},M={key:0,tabindex:"-1",class:"fixed inset-0 z-50 flex justify-center items-center w-full h-[calc(100%-1rem)] max-h-full bg-black bg-opacity-50"},$={class:"relative p-4 w-full max-w-md max-h-full"},A={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},j={class:"p-4 md:p-5 text-center"};function V(s,e,i,u,n,o){return l(),a("div",null,[t("button",{onClick:e[0]||(e[0]=(...r)=>o.toggleModal&&o.toggleModal(...r)),class:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"}," Toggle modal "),n.isModalVisible?(l(),a("div",M,[t("div",$,[t("div",A,[t("button",{onClick:e[1]||(e[1]=(...r)=>o.toggleModal&&o.toggleModal(...r)),type:"button",class:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},e[4]||(e[4]=[t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),t("span",{class:"sr-only"},"Close modal",-1)])),t("div",j,[e[5]||(e[5]=t("svg",{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),e[6]||(e[6]=t("h3",{class:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"}," Are you sure you want to delete this product? ",-1)),t("button",{onClick:e[2]||(e[2]=(...r)=>o.confirmAction&&o.confirmAction(...r)),type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center"}," Yes, I'm sure "),t("button",{onClick:e[3]||(e[3]=(...r)=>o.toggleModal&&o.toggleModal(...r)),type:"button",class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"}," No, cancel ")])])])])):f("",!0)])}const B=m(C,[["render",V]]),E={data(){return{showPopup:!1,deleteTemplate:null}},methods:{openTemplate(s){this.$router.push({path:`template/${s.survey_templateID}`})},async removeTemplate(s){if(!(await fetch(`https://web-i3-back.fly.dev/admin/deleteTemplate/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok){console.log("Error deleting template");return}this.$emit("removeTemplate")}},components:{TemplateComponent:T,PopupComponent:B},props:{templates:{type:Array,required:!0}}},I={class:"stack-list"},P={class:"flex flex-col gap-4"},D=["onClick"];function L(s,e,i,u,n,o){const r=g("TemplateComponent"),p=g("PopupComponent");return l(),a("div",I,[t("ul",P,[(l(!0),a(x,null,y(i.templates,d=>(l(),a("li",{key:d.id,class:"border border-gray-300 rounded-lg p-4 bg-gray-50 transition-transform duration-200 ease-in-out hover:bg-gray-100 hover:-translate-y-1 hover:shadow-md cursor-pointer"},[t("button",{onClick:()=>{n.showPopup=!0,n.deleteTemplate=d},class:"text-red-400 hover:text-red-500 transition duration-300"}," Remove ",8,D),c(r,{onClick:F=>o.openTemplate(d),template:d},null,8,["onClick","template"])]))),128))]),c(p,{"show-dialog":n.showPopup,dialog:"Are you sure you want to delete this template?",onConfirm:()=>o.removeTemplate(n.deleteTemplate.survey_templateID)},null,8,["show-dialog","onConfirm"])])}const N=m(E,[["render",L]]),z={data(){return{templates:[]}},components:{TemplateListComponent:N},methods:{async fetchAllTemplates(){const s=await fetch("https://web-i3-back.fly.dev/admin/templates",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});this.templates=await s.json()},goToAddTemplate(){this.$router.push({path:"/admin/templates/create"})}},beforeMount(){this.fetchAllTemplates()}},R={class:"flex flex-col gap-y-4 ml-4"},S={key:0,class:"text-gray-500 text-sm"};function q(s,e,i,u,n,o){const r=g("TemplateListComponent");return l(),a("div",R,[e[1]||(e[1]=t("h1",{class:"text-2xl font-semibold text-gray-900"},"Templates",-1)),n.templates.length===0?(l(),a("div",S," No templates yet ")):f("",!0),t("button",{onClick:e[0]||(e[0]=(...p)=>o.goToAddTemplate&&o.goToAddTemplate(...p)),class:"w-full max-w-xs py-2 px-4 bg-gray-300 text-gray-800 rounded-sm transition-all duration-300 ease-in-out hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-600"}," Add a Template "),c(r,{templates:n.templates,onRemoveTemplate:o.fetchAllTemplates},null,8,["templates","onRemoveTemplate"])])}const O=m(z,[["render",q]]);export{O as default};
