import{S as i}from"./SurveysListComponent-Cda4CnJF.js";import{_ as v,c as n,a as o,i as l,b as c,r as d,o as a}from"./index-CzuhSnVT.js";const m={data(){return{surveys:[]}},components:{SurveysListComponent:i},methods:{async fetchAllSurveys(){const s=await fetch("https://web-i3-back.fly.dev/admin/surveys",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});this.surveys=await s.json(),console.log(this.surveys)},goToAddSurvey(){this.$router.push({path:"/admin/surveys/create"})},removeSurvey(s){this.surveys=this.surveys.filter(e=>e.surveyID!==s)}},beforeMount(){this.fetchAllSurveys()}},p={class:"flex flex-col gap-y-4"},f={key:0,class:"text-gray-500 text-sm"};function g(s,e,h,S,r,t){const u=d("SurveysListComponent");return a(),n("div",null,[o("div",p,[e[1]||(e[1]=o("h1",{class:"text-2xl font-semibold text-gray-900"},"Surveys",-1)),r.surveys.length===0?(a(),n("div",f," No surveys yet ")):l("",!0),o("button",{onClick:e[0]||(e[0]=(...y)=>t.goToAddSurvey&&t.goToAddSurvey(...y)),class:"w-full max-w-xs py-2 px-4 bg-gray-300 text-gray-800 rounded-sm transition-all duration-300 ease-in-out hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-600"}," Add a Survey "),c(u,{surveys:r.surveys,onRemoveSurvey:t.removeSurvey},null,8,["surveys","onRemoveSurvey"])])])}const b=v(m,[["render",g]]);export{b as default};
