import{H as c,F as f,_ as g}from"./FooterComponent-pQ1gNiqt.js";import{u as w,c as x,a as i,b as s,f as y,g as l,v as m,F as b,o as v,r as d}from"./index-dWdgYF6i.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const n=w(),k={data(){return{email:"",password:""}},components:{HeaderComponent:c,FooterComponent:f},methods:{async login(){try{const t=await fetch("https://web-i3-back.fly.dev/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}),e=await t.json();t.ok?(console.log("Login successful:",e),n.success("Login successful",{position:"top-center",timeout:5e3,pauseOnHover:!1,draggable:!1}),localStorage.setItem("token",e.token),e.type==="Admin"?this.$router.push("/admin"):e.type==="Teacher"?this.$router.push("/teacher"):this.$router.push("/student")):(console.error("Login failed:",e),n.error("Incorrect email or password",{position:"top-center",timeout:5e3,pauseOnHover:!1,draggable:!1}))}catch(t){console.error("Error:",t),n.error("An error occurred",{position:"top-center",timeout:5e3,pauseOnHover:!1,draggable:!1})}},forgotPassword(){n.info("That's sad ðŸ˜­",{position:"top-center",timeout:5e3,pauseOnHover:!1,draggable:!1})}}},_={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},C={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},F={class:"mt-2"},H={class:"flex items-center justify-between"},O={class:"text-sm"},S={class:"mt-2"};function T(t,e,j,E,r,a){const u=d("HeaderComponent"),p=d("FooterComponent");return v(),x(b,null,[i(u),s("div",_,[e[7]||(e[7]=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[s("img",{class:"mx-auto h-20 w-auto",src:g,alt:"EFREI LOGO"}),s("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900"},"Sign in to your account")],-1)),s("div",C,[s("form",{class:"space-y-6",onSubmit:e[3]||(e[3]=y((...o)=>a.login&&a.login(...o),["prevent"]))},[s("div",null,[e[4]||(e[4]=s("label",{for:"email",class:"block text-sm/6 font-medium text-gray-900"},"Email address",-1)),s("div",F,[l(s("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":e[0]||(e[0]=o=>r.email=o),autocomplete:"email",required:"",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[m,r.email]])])]),s("div",null,[s("div",H,[e[5]||(e[5]=s("label",{for:"password",class:"block text-sm/6 font-medium text-gray-900"},"Password",-1)),s("div",O,[s("button",{type:"button",onClick:e[1]||(e[1]=(...o)=>a.forgotPassword&&a.forgotPassword(...o)),href:"#",class:"font-semibold text-primar"},"Forgot password?")])]),s("div",S,[l(s("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=o=>r.password=o),autocomplete:"current-password",required:"",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[m,r.password]])])]),e[6]||(e[6]=s("div",null,[s("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-primary px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-primary-hover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"},"Sign in")],-1))],32)])]),i(p)],64)}const B=h(k,[["render",T]]);export{B as default};
