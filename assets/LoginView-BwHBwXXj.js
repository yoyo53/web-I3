import{_ as d,u as m,c as f,a as s,f as c,g as i,h as a,v as u,o as p}from"./index-BtmcOmMw.js";const l=m(),w={name:"LoginView",data(){return{email:"",password:""}},methods:{async login(){try{const o=await fetch("https://web-i3-back.fly.dev/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})});if(o.status===400)l.error("Incorrect email or password");else if(o.ok){const e=await o.json();localStorage.setItem("token",e.token),l.success("Login successful"),e.type==="Admin"?this.$router.push({name:"admin"}):e.type==="Teacher"?this.$router.push({name:"teacher"}):this.$router.push({name:"student"})}else throw new Error(o.statusText)}catch(o){console.error(o),l.error("Something went wrong")}},forgotPassword(){l.info("That's sad ðŸ˜­")}}},g={class:"flex flex-col justify-center"},b={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},h={class:"mt-2"},x={class:"flex items-center justify-between"},y={class:"text-sm"},v={class:"mt-2"};function k(o,e,T,S,r,n){return p(),f("div",g,[s("section",null,[e[7]||(e[7]=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[s("img",{class:"mx-auto h-20 w-auto",src:c,alt:"TeachPoint Logo"}),s("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Sign in to your account")],-1)),s("div",b,[s("form",{class:"space-y-6",onSubmit:e[3]||(e[3]=i((...t)=>n.login&&n.login(...t),["prevent"]))},[s("div",null,[e[4]||(e[4]=s("label",{for:"email",class:"block text-sm/6 font-medium"},"Email address",-1)),s("div",h,[a(s("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":e[0]||(e[0]=t=>r.email=t),autocomplete:"email",placeholder:"john.doe@email.com",required:"",class:"block w-full rounded-md px-3 py-1.5 shadow-sm border border-gray-300 sm:text-sm/6 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700 placeholder-neutral-400"},null,512),[[u,r.email]])])]),s("div",null,[s("div",x,[e[5]||(e[5]=s("label",{for:"password",class:"block text-sm/6 font-medium"},"Password",-1)),s("div",y,[s("button",{type:"button",onClick:e[1]||(e[1]=i((...t)=>n.forgotPassword&&n.forgotPassword(...t),["prevent"])),class:"font-semibold rounded-md focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"}," Forgot password? ")])]),s("div",v,[a(s("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>r.password=t),autocomplete:"current-password",placeholder:"********",required:"",class:"block w-full rounded-md px-3 py-1.5 shadow-sm border border-gray-300 sm:text-sm/6 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700 placeholder-neutral-400"},null,512),[[u,r.password]])])]),e[6]||(e[6]=s("div",null,[s("button",{type:"submit",class:"w-full rounded-md px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm bg-efrei-blue-500 hover:bg-efrei-blue-950 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"}," Sign in ")],-1))],32)])])])}const P=d(w,[["render",k]]);export{P as default};
