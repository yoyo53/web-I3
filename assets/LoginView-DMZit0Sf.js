import{_ as n,c as m,a as s,b as d,w as u,d as i,v as a,o as p}from"./index-Dw_yjmax.js";const c={data(){return{email:"",password:""}},methods:{async login(){try{const t=await fetch("https://web-i3-back.fly.dev/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}),e=await t.json();t.ok?(console.log("Login successful:",e),localStorage.setItem("token",e.token),localStorage.setItem("userType",e.type),e.type==="admin"?this.$router.push("/Admin"):e.type==="Teacher"?this.$router.push("/teacher"):this.$router.push("/student")):console.error("Login failed:",e)}catch(t){console.error("Error:",t)}}}},f={class:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8"},g={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},x={class:"mt-2"},y={class:"mt-2"};function w(t,e,b,h,l,r){return p(),m("div",f,[e[6]||(e[6]=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[s("img",{class:"mx-auto h-20 w-auto",src:d,alt:"EFREI LOGO"}),s("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900"},"Sign in to your account")],-1)),s("div",g,[s("form",{class:"space-y-6",onSubmit:e[2]||(e[2]=u((...o)=>r.login&&r.login(...o),["prevent"]))},[s("div",null,[e[3]||(e[3]=s("label",{for:"email",class:"block text-sm/6 font-medium text-gray-900"},"Email address",-1)),s("div",x,[i(s("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":e[0]||(e[0]=o=>l.email=o),autocomplete:"email",required:"",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[a,l.email]])])]),s("div",null,[e[4]||(e[4]=s("div",{class:"flex items-center justify-between"},[s("label",{for:"password",class:"block text-sm/6 font-medium text-gray-900"},"Password"),s("div",{class:"text-sm"},[s("a",{href:"#",class:"font-semibold text-primar"},"Forgot password?")])],-1)),s("div",y,[i(s("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>l.password=o),autocomplete:"current-password",required:"",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[a,l.password]])])]),e[5]||(e[5]=s("div",null,[s("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-primary px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-primary-hover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"},"Sign in")],-1))],32)])])}const k=n(c,[["render",w]]);export{k as default};
