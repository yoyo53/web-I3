import{R as y,C as k}from"./CheckBox-DTjjnTma.js";import{_ as g,c as n,a as e,t as d,F as _,i as v,o as a,h as p,v as w,l as B,k as m,j as c,r as u}from"./index-BtmcOmMw.js";const T={components:{RadioButton:y,CheckBox:k},name:"DetailedSurveysComponent",props:{id:{type:String,required:!0}},data(){return{template:null}},methods:{async removeTemplate(s){if(!(await fetch(`https://web-i3-back.fly.dev/admin/deleteTemplate/${s}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok){console.log("Error deleting template");return}this.$router.push({path:"/admin/templates"})}},async mounted(){try{const s=await fetch(`https://web-i3-back.fly.dev/admin/templates/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!s.ok)throw new Error("Network response was not ok");this.template=await s.json()}catch(s){console.error("There was a problem with the fetch operation:",s)}}},C={key:0,class:"mb-6"},E={key:1,class:"mb-6"},R={class:"text-2xl font-semibold text-[primary] mb-4 p-6 w-full max-w-3xl"},S={class:"block text-sm font-medium text-gray-700 mb-2"},V=["onUpdate:modelValue"],$=["onUpdate:modelValue"],D={class:"flex justify-center mt-4"};function j(s,t,b,U,r,x){const h=u("RadioButton"),f=u("CheckBox");return r.template?(a(),n("div",E,[e("h1",R,d(r.template.name),1),(a(!0),n(_,null,v(r.template.questions,(o,i)=>(a(),n("div",{key:i,class:"mb-4 p-4 border-2 border-dashed border-transparent-hover rounded-lg"},[e("label",S,"Question "+d(i+1),1),p(e("input",{type:"text","onUpdate:modelValue":l=>o.question_text=l,disabled:"",class:"block w-full px-4 py-2 border rounded-md shadow-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-2 font-semibold"},null,8,V),[[w,o.question_text]]),t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Response Type",-1)),p(e("select",{"onUpdate:modelValue":l=>o.question_type=l,disabled:"",class:"block w-full px-4 py-2 border rounded-md shadow-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-100"},t[2]||(t[2]=[e("option",{value:"text"},"Text Input",-1),e("option",{value:"score"},"Star Rating (1-5)",-1),e("option",{value:"radio"},"Radio Buttons",-1),e("option",{value:"checkbox"},"Checkbox",-1)]),8,$),[[B,o.question_type]]),o.question_type==="radio"?(a(),m(h,{key:0,question:o,isEditable:!1},null,8,["question"])):c("",!0),o.question_type==="checkbox"?(a(),m(f,{key:1,question:o,isEditable:!1},null,8,["question"])):c("",!0)]))),128)),e("div",D,[e("button",{onClick:t[0]||(t[0]=o=>x.removeTemplate(b.id)),class:"py-2.5 px-6 text-sm rounded-lg bg-red-50 text-red-500 cursor-pointer font-semibold text-center shadow-xs transition-all duration-300 hover:bg-red-100 hover:text-red-700"}," Delete Template ")])])):(a(),n("div",C,t[1]||(t[1]=[e("p",{class:"text-2xl font-semibold text-[primary] mb-4 p-6 w-full max-w-3xl"},"Loading template details...",-1)])))}const L=g(T,[["render",j]]);export{L as default};
