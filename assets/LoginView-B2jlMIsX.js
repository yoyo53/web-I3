import{_ as d,u as m,c as f,a as e,f as c,g as l,h as a,v as u,o as p}from"./index-D-sF1s1X.js";const i=m(),g={name:"LoginView",data(){return{email:"",password:""}},methods:{async login(){try{const t=await fetch("https://web-i3-back.fly.dev/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}),s=await t.json();t.ok?(i.success("Login successful"),localStorage.setItem("token",s.token),console.log(s),s.type==="Admin"?this.$router.push({name:"admin"}):s.type==="Teacher"?this.$router.push({name:"teacher"}):this.$router.push({name:"student"})):i.error("Incorrect email or password")}catch(t){console.error(t),i.error("An error occurred")}},forgotPassword(){i.info("That's sad ðŸ˜­")}}},w={class:"flex flex-col justify-center"},b={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},x={class:"mt-2"},y={class:"flex items-center justify-between"},h={class:"text-sm"},v={class:"mt-2"};function k(t,s,T,_,r,n){return p(),f("div",w,[e("section",null,[s[7]||(s[7]=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[e("img",{class:"mx-auto h-20 w-auto",src:c,alt:"TeachPoint Logo"}),e("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Sign in to your account")],-1)),e("div",b,[e("form",{class:"space-y-6",onSubmit:s[3]||(s[3]=l((...o)=>n.login&&n.login(...o),["prevent"]))},[e("div",null,[s[4]||(s[4]=e("label",{for:"email",class:"block text-sm/6 font-medium"},"Email address",-1)),e("div",x,[a(e("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":s[0]||(s[0]=o=>r.email=o),autocomplete:"email",required:"",class:"block w-full rounded-md px-3 py-1.5 shadow-sm border border-gray-300 sm:text-sm/6 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"},null,512),[[u,r.email]])])]),e("div",null,[e("div",y,[s[5]||(s[5]=e("label",{for:"password",class:"block text-sm/6 font-medium"},"Password",-1)),e("div",h,[e("button",{type:"button",onClick:s[1]||(s[1]=l((...o)=>n.forgotPassword&&n.forgotPassword(...o),["prevent"])),class:"font-semibold rounded-md focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"}," Forgot password? ")])]),e("div",v,[a(e("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":s[2]||(s[2]=o=>r.password=o),autocomplete:"current-password",required:"",class:"block w-full rounded-md px-3 py-1.5 shadow-sm border border-gray-300 sm:text-sm/6 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"},null,512),[[u,r.password]])])]),s[6]||(s[6]=e("div",null,[e("button",{type:"submit",class:"flex w-full justify-center rounded-md px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm bg-efrei-blue-500 hover:bg-efrei-blue-950 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"}," Sign in ")],-1))],32)])])])}const S=d(g,[["render",k]]);export{S as default};
