import{_ as d,u as m,c as u,a as s,f as p,g as c,h as l,v as n,o as f}from"./index-CxCvi94j.js";const a=m(),g={data(){return{email:"",password:""}},methods:{async login(){try{const o=await fetch("https://web-i3-back.fly.dev/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}),e=await o.json();o.ok?(console.log("Login successful:",e),a.success("Login successful",{position:"top-center",timeout:5e3,pauseOnHover:!1,draggable:!1}),localStorage.setItem("token",e.token),e.type==="Admin"?this.$router.push("/admin"):e.type==="Teacher"?this.$router.push("/teacher"):this.$router.push("/student")):(console.error("Login failed:",e),a.error("Incorrect email or password",{position:"top-center",timeout:5e3,pauseOnHover:!1,draggable:!1}))}catch(o){console.error("Error:",o),a.error("An error occurred",{position:"top-center",timeout:5e3,pauseOnHover:!1,draggable:!1})}},forgotPassword(){a.info("That's sad ðŸ˜­",{position:"top-center",timeout:5e3,pauseOnHover:!1,draggable:!1})}}},w={class:"flex flex-1 flex-col justify-center px-6 py-12 lg:px-8"},x={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},y={class:"mt-2"},b={class:"flex items-center justify-between"},v={class:"text-sm"},h={class:"mt-2"};function k(o,e,O,_,r,i){return f(),u("div",w,[e[7]||(e[7]=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[s("img",{class:"mx-auto h-20 w-auto",src:p,alt:"EFREI LOGO"}),s("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900"},"Sign in to your account")],-1)),s("div",x,[s("form",{class:"space-y-6",onSubmit:e[3]||(e[3]=c((...t)=>i.login&&i.login(...t),["prevent"]))},[s("div",null,[e[4]||(e[4]=s("label",{for:"email",class:"block text-sm/6 font-medium text-gray-900"},"Email address",-1)),s("div",y,[l(s("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":e[0]||(e[0]=t=>r.email=t),autocomplete:"email",required:"",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[n,r.email]])])]),s("div",null,[s("div",b,[e[5]||(e[5]=s("label",{for:"password",class:"block text-sm/6 font-medium text-gray-900"},"Password",-1)),s("div",v,[s("button",{type:"button",onClick:e[1]||(e[1]=(...t)=>i.forgotPassword&&i.forgotPassword(...t)),href:"#",class:"font-semibold text-primar"},"Forgot password?")])]),s("div",h,[l(s("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>r.password=t),autocomplete:"current-password",required:"",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm/6"},null,512),[[n,r.password]])])]),e[6]||(e[6]=s("div",null,[s("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-primary px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm hover:bg-primary-hover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"},"Sign in")],-1))],32)])])}const T=d(g,[["render",k]]);export{T as default};
