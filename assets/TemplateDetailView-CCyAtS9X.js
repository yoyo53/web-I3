import{R as g,C as k}from"./CheckBox-CmjYMi1K.js";import{_,u as w,c as n,a as t,t as d,F as T,i as v,o as s,h as u,v as B,l as C,k as p,j as m,r as b}from"./index-DS8IDvsA.js";const i=w(),S={name:"TemplateView",props:{id:{type:String,required:!0}},data(){return{template:null}},components:{RadioButton:g,CheckBox:k},methods:{async getTemplate(a){try{const e=await fetch("https://web-i3-back.fly.dev/admin/templates/"+a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(e.statusText);this.template=await e.json()}catch(e){console.error(e),i.error("Something went wrong")}},async deleteTemplate(a){try{const e=await fetch("https://web-i3-back.fly.dev/admin/template/"+a,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error(e.statusText);i.success("Template deleted successfully"),this.$router.push({name:"templates"})}catch(e){console.error(e),i.error("Something went wrong")}}},async beforeMount(){this.getTemplate(this.id)}},V={class:"flex justify-center items-center"},E={key:0},R={key:1,class:"w-full max-w-7xl mx-auto"},j={class:"mb-4 text-2xl font-semibold text-center"},D={class:"block mb-2 text-sm"},U=["onUpdate:modelValue"],q=["onUpdate:modelValue"],I={class:"flex justify-center mt-4"};function L(a,e,f,M,r,h){const x=b("RadioButton"),y=b("CheckBox");return s(),n("div",V,[r.template?(s(),n("section",R,[t("h1",j,d(r.template.name),1),(s(!0),n(T,null,v(r.template.questions,(o,c)=>(s(),n("div",{key:c,class:"mb-4 p-4 border-2 border-dashed border-neutral-200 rounded-lg"},[t("label",D,"Question "+d(c+1),1),u(t("input",{type:"text","onUpdate:modelValue":l=>o.question_text=l,disabled:"",class:"block w-full mb-2 px-4 py-2 border border-neutral-300 rounded-md"},null,8,U),[[B,o.question_text]]),e[3]||(e[3]=t("label",{class:"mb-2 block text-sm"},"Response Type",-1)),u(t("select",{"onUpdate:modelValue":l=>o.question_type=l,disabled:"",class:"block w-full px-4 py-2 bg-transparent border border-neutral-300 rounded-md focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700 disabled:bg-neutral-100"},e[2]||(e[2]=[t("option",{value:"text"},"Text Input",-1),t("option",{value:"score"},"Star Rating (1-5)",-1),t("option",{value:"radio"},"Radio Buttons",-1),t("option",{value:"checkbox"},"Checkbox",-1)]),8,q),[[C,o.question_type]]),o.question_type==="radio"?(s(),p(x,{key:0,question:o,editable:!1,answerable:!1,class:"my-4"},null,8,["question"])):m("",!0),o.question_type==="checkbox"?(s(),p(y,{key:1,question:o,editable:!1,answerable:!1,class:"my-4"},null,8,["question"])):m("",!0)]))),128)),t("div",I,[t("button",{onClick:e[0]||(e[0]=o=>h.deleteTemplate(f.id)),class:"block py-2.5 px-6 text-sm rounded-lg bg-red-50 text-red-500 cursor-pointer font-semibold text-center hover:bg-red-100 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-red-700"}," Delete Template ")])])):(s(),n("section",E,e[1]||(e[1]=[t("p",{class:"text-2xl font-semibold"},"Loading template details...",-1)])))])}const A=_(S,[["render",L]]);export{A as default};
