import{_ as u,u as m,c,a as s,f,g as i,h as a,v as d,o as p}from"./index-CqfWuBf5.js";const n=m(),g={name:"LoginView",data(){return{email:"",password:""}},methods:{async login(){try{const t=await fetch("https://web-i3-back.fly.dev/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}),e=await t.json();t.ok?(n.success("Login successful"),localStorage.setItem("token",e.token),console.log(e),e.type==="Admin"?this.$router.push({name:"admin"}):e.type==="Teacher"?this.$router.push({name:"teacher"}):this.$router.push({name:"student"})):n.error("Incorrect email or password")}catch(t){console.error(t),n.error("An error occurred")}},forgotPassword(){n.info("That's sad ðŸ˜­")}}},w={class:"flex flex-col justify-center"},b={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},h={class:"mt-2"},x={class:"flex items-center justify-between"},y={class:"text-sm"},v={class:"mt-2"};function k(t,e,T,_,r,l){return p(),c("div",w,[s("section",null,[e[7]||(e[7]=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[s("img",{class:"mx-auto h-20 w-auto",src:f,alt:"TeachPoint Logo"}),s("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight"},"Sign in to your account")],-1)),s("div",b,[s("form",{class:"space-y-6",onSubmit:e[3]||(e[3]=i((...o)=>l.login&&l.login(...o),["prevent"]))},[s("div",null,[e[4]||(e[4]=s("label",{for:"email",class:"block text-sm/6 font-medium"},"Email address",-1)),s("div",h,[a(s("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":e[0]||(e[0]=o=>r.email=o),autocomplete:"email",placeholder:"john.doe@email.com",required:"",class:"block w-full rounded-md px-3 py-1.5 shadow-sm border border-gray-300 sm:text-sm/6 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700 placeholder-neutral-400"},null,512),[[d,r.email]])])]),s("div",null,[s("div",x,[e[5]||(e[5]=s("label",{for:"password",class:"block text-sm/6 font-medium"},"Password",-1)),s("div",y,[s("button",{type:"button",onClick:e[1]||(e[1]=i((...o)=>l.forgotPassword&&l.forgotPassword(...o),["prevent"])),class:"font-semibold rounded-md focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"}," Forgot password? ")])]),s("div",v,[a(s("input",{id:"password",name:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=o=>r.password=o),autocomplete:"current-password",placeholder:"********",required:"",class:"block w-full rounded-md px-3 py-1.5 shadow-sm border border-gray-300 sm:text-sm/6 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700 placeholder-neutral-400"},null,512),[[d,r.password]])])]),e[6]||(e[6]=s("div",null,[s("button",{type:"submit",class:"w-full rounded-md px-3 py-1.5 text-sm/6 font-semibold text-white shadow-sm bg-efrei-blue-500 hover:bg-efrei-blue-950 focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-efrei-blue-700"}," Sign in ")],-1))],32)])])])}const S=u(g,[["render",k]]);export{S as default};
